"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7948],{57948:function(e,l,t){t.d(l,{F:function(){return O}});var n=t(57437),i=t(53436),o=t(13894),a=t(27648),r=t(78749),s=t.n(r);function c(e){let{name:l,icon:t,iconPadding:i,isError:o,onClick:a,isChatApp:r,forceIdElem:s}=e;return(0,n.jsx)("div",{className:"  ",children:(0,n.jsxs)("button",{id:s,onClick:a,className:" overflow-hidden duration-300 transition-all font-light hover:bg-white/[0.12] hover:border-[#949AA4] hover: cursor-pointer w-full text-[14px] flex items-center "+(r?" border-[1px] border-[#efeded] rounded-full px-[12px] py-[6px] ":" rounded-[4px] bg-[#202124] "),children:[(0,n.jsx)("span",{className:" flex items-center justify-center "+(r?" w-[24px] h-[24px] ":" bg-white w-[30px] h-[30px] "),children:t}),(0,n.jsx)("span",{className:" line-clamp-1 flex-1 "+(o?" text-red-500 ":""),children:l})]})})}var d=t(48547),u=t(99376),p=t(2265),m=t(3916),h=t(14438),x=t(71491),g=t.n(x),v=t(78062),f=t(51854),w=t(42715),b=t.n(w);class j{constructor(){this.doCloseWindow=()=>{this.windowOpen&&!this.windowOpen.closed&&(this.windowOpen.close(),this.windowOpen=null)},this.handleCallback=(e,l)=>{if(e){let t=e.error;if(!m.Z.isNullOrEmpty(t)){t=e.error_description?e.error_description:t,h.Am.error(t||m.Z.errorDefault);return}let n=e.code,i=e.state;if(!m.Z.isNullOrEmpty(n)&&!m.Z.isNullOrEmpty(i)&&i===this.randomS)return l(n)}l(null)},this.openOauth=(e,l,t,n,i,o)=>{var a,r;this.doCloseWindow();let s=window.location.protocol+"//"+window.location.hostname,c=window.location.port;m.Z.isNullOrEmpty(c)||(s+=":"+c);let d=f.Z();this.randomS=d+"__"+s;let u="https://abacus.ai";u+="/oauth/callback",u=l||u;let p=e+"?client_id="+t+"&redirect_uri="+m.Z.encodeQueryParam(u)+"&scope="+n.join("%20")+"&state="+m.Z.encodeQueryParam(this.randomS)+(i?"&"+i.join("&"):"");null!=this.onMessage&&window.removeEventListener("message",this.onMessage),this.onMessage=e=>{var l,t;b()(null===(l=e.data)||void 0===l?void 0:l.query)&&window.__oauthCallbackPost(null===(t=e.data)||void 0===t?void 0:t.query)},window.addEventListener("message",this.onMessage),window.__oauthCallbackPost=e=>{g()(e,"?")&&(e=e.substring(1));let l=v.Z.parse(e);this.handleCallback(l,o),this.doCloseWindow()};let h=void 0!=window.screenLeft?window.screenLeft:window.screenX,x=void 0!=window.screenTop?window.screenTop:window.screenY,w=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,j=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,k=w/window.screen.availWidth;this.windowOpen=window.open(p,"_blank","toolbar=0,location=0,menubar=0,height=600,width=600,top="+((j-600)/2/k+x)+",left="+((w-600)/2/k+h)),null===this||void 0===this||null===(r=this.windowOpen)||void 0===r||null===(a=r.focus)||void 0===a||a.call(r)}}}var k=t(14301),y=t(25429),N=t(89884),A=t(95951),S=t(49070),_=t(64349);function C(e){let{titleLabelOrg:l,requires2fa:a,linkSlack:r,linkTeams:s,loginOptions:x,isChatApp:g,inBrowserWebView:v,showGoogleSignInModal:f,isChatTeams:w,themeObj:b,isLoggedIn:C,isCodeLLM:E,isAppLLM:I,forceOpenCodeLLM:L,isReset:Z,loggedInEmail:T}=e,[O,P]=(0,p.useState)(l),M=r||s,B=(0,u.useSearchParams)(),D=null==B?void 0:B.get("token"),U=(null==B?void 0:B.get("inviteToken"))||null,z=(null==B?void 0:B.get("inviteEmail"))||null,F=(null==B?void 0:B.get("orgId"))||null,R=(null==B?void 0:B.get("userInviteId"))||null,[H,Y]=(0,S.PB)("isSignUp"),[W,q]=(0,p.useState)(!1),[G]=(0,p.useState)(new j),[Q,J]=(0,p.useState)(null),[K,V]=(0,p.useState)(null),[X,$]=(0,p.useState)(!1),[ee,el]=(0,p.useState)(!1),[et,en]=(0,p.useState)(""),[ei,eo]=(0,p.useState)(""),[ea,er]=(0,p.useState)(""),[es,ec]=(0,p.useState)(!1),[ed,eu]=(0,p.useState)(""),[ep,em]=(0,p.useState)(!1),eh=(0,p.useRef)(null),[ex,eg]=(0,p.useState)("");(0,p.useEffect)(()=>{Z&&el(!0)},[Z]),(0,p.useEffect)(()=>{C&&T&&!Z?z&&z!=T?(P("The signed-in user does not match the invited email:\n"+z+"\n\nPlease sign out and log in as the invited user."),ec(!0)):z&&U?(0,i.YpH)({method:"_acceptInviteExistingUser",data:{userInviteToken:R,userInviteSecret:U}}).then(e=>{(null==e?void 0:e.success)?(h.Am.success("Accepted!"),M?window.location.reload():eA()):h.Am.error((null==e?void 0:e.error)||m.Z.errorDefault)}).catch(e=>{h.Am.error(m.Z.isNullOrEmpty(e)?m.Z.errorDefault:""+e)}):(P("You are already logged in."),ec(!0)):P(U?"Accept Invite":I?"Sign ".concat(H?"up":"in"," to AppLLM"):E?"Sign ".concat(H?"up":"in"," to CodeLLM"):g?"Sign ".concat(H?"up":"in"," to ChatLLM Teams"):l)},[U,Z,H,H,I,E]),(0,p.useEffect)(()=>{ex&&(0,u.redirect)(ex)},[ex]);let ev=(0,p.useMemo)(()=>window.location.host,[]),ef=(null==b?void 0:b[i.ZZk])||null,ew=(null==b?void 0:b[i.qe3])||null,eb=(null==b?void 0:b[i.FUd])||!1,ej=(null==b?void 0:b[i.b$1])||!1,ek=eb&&ef?ef:"Sign ".concat(U||H?"up":"in"," with Okta"),ey=ej&&ew?ew:"Sign ".concat(U||H?"up":"in"," with Microsoft"),eN=(0,p.useRef)(!1);(0,p.useEffect)(()=>{!eN.current&&(eN.current=!0,window.AppleID&&window.AppleID.auth&&window.AppleID.auth.init({clientId:"com.AbacusAI.Abacus-AI.sid",scope:"email name",redirectURI:"https://".concat(ev),state:"abc",nonce:"NONCE",usePopup:!0}))},[ev]),(0,p.useEffect)(()=>{$(!1);try{(0,i.koz)({isGet:!0}).then(e=>{$(!1)}).catch(e=>{$(!0)})}catch(e){$(!0)}},[]),(0,p.useEffect)(()=>{(0,i.koz)({}).then(e=>{var l;J(null!==(l=null==e?void 0:e.result)&&void 0!==l?l:null)}).catch(e=>{h.Am.error(m.Z.isNullOrEmpty(e)?m.Z.errorDefault:""+e)})},[]),(0,p.useEffect)(()=>{(0,i.Ly)({}).then(e=>{var l;V(null!==(l=null==e?void 0:e.result)&&void 0!==l?l:null)}).catch(e=>{h.Am.error(m.Z.isNullOrEmpty(e)?m.Z.errorDefault:""+e)})},[]),(0,p.useEffect)(()=>{if(!0===a){var e;null===(e=eh.current)||void 0===e||e.open()}},[a]);let eA=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=null==B?void 0:B.get("from");l?(l.toLowerCase().startsWith("/chatllm")||(l="/chatllm"+l),(0,i.vOe)(!0),window.location.href=l):((0,i.vOe)(!0),E&&(null!=e||(e=""),(null==e?void 0:e.includes("?"))?e+=L?"&CodeLLM=1":"&CodeLLM=2":e+=L?"?CodeLLM=1":"?CodeLLM=2",H&&(e+="&isSignUp=1")),I&&(null!=e||(e=""),(null==e?void 0:e.includes("?"))?e+="&AppLLM=1":e+="?AppLLM=1",H&&(e+="&isSignUp=1")),window.location.href="/chatllm/"+(null!=e?e:""))},eS=(0,p.useMemo)(()=>g?D||(I?"testChatTeamsToken":E?"CodeLLM":"testChatTeamsToken"):null,[g,D,I,E]),e_=e=>{var l,t,n;if(!e)return;let o=null!==(n=e.credential)&&void 0!==n?n:null==e?void 0:null===(t=e.getAuthResponse)||void 0===t?void 0:null===(l=t.call(e))||void 0===l?void 0:l.id_token;o?(0,i.YpH)({method:"_googleSignIn",data:{googleToken:o,userInviteId:R,signupToken:eS}}).then(e=>{if(null==e?void 0:e.success)setTimeout(()=>{M?window.location.reload():eA()},200);else{let l=null==e?void 0:e.redirectUrl;l?eg(l):h.Am.error((null==e?void 0:e.error)||m.Z.errorDefault)}}).catch(e=>{h.Am.error(m.Z.isNullOrEmpty(e)?m.Z.errorDefault:""+e)}):h.Am.error(m.Z.errorDefault)},eC=e=>{e&&(e?(0,i.YpH)({method:"_oktaSignIn",data:{oktaToken:e,userInviteId:R,signupToken:eS}}).then(e=>{if(null==e?void 0:e.success)setTimeout(()=>{M?window.location.reload():eA()},200);else{let l=null==e?void 0:e.redirectUrl;l?eg(l):h.Am.error((null==e?void 0:e.error)||m.Z.errorDefault)}}).catch(e=>{h.Am.error(m.Z.isNullOrEmpty(e)?m.Z.errorDefault:""+e)}):h.Am.error(m.Z.errorDefault))},eE=e=>{e&&(e?(0,i.YpH)({method:"_facebookSignIn",data:{facebookToken:e,userInviteId:R,signupToken:eS}}).then(e=>{if(null==e?void 0:e.success)setTimeout(()=>{M?window.location.reload():eA()},200);else{let l=null==e?void 0:e.redirectUrl;l?eg(l):h.Am.error((null==e?void 0:e.error)||m.Z.errorDefault)}}).catch(e=>{h.Am.error(m.Z.isNullOrEmpty(e)?m.Z.errorDefault:""+e)}):h.Am.error(m.Z.errorDefault))},eI=e=>{if(e){if(e){let l=e?btoa(e):e;(0,i.YpH)({method:"_appleSignIn",data:{appleToken:l,userInviteId:R,signupToken:eS}}).then(e=>{if(null==e?void 0:e.success)setTimeout(()=>{M?window.location.reload():eA()},200);else{let l=null==e?void 0:e.redirectUrl;l?eg(l):h.Am.error((null==e?void 0:e.error)||m.Z.errorDefault)}}).catch(e=>{h.Am.error(m.Z.isNullOrEmpty(e)?m.Z.errorDefault:""+e)})}else h.Am.error(m.Z.errorDefault)}},eL=e=>{e&&(e?(0,i.YpH)({method:w&&!K.provider?"_azureTeamsSignIn":"_azureSignIn",data:{azureToken:e,userInviteId:R,signupToken:eS}}).then(e=>{if(null==e?void 0:e.success)setTimeout(()=>{M?window.location.reload():eA()},200);else{let l=null==e?void 0:e.redirectUrl;l?eg(l):h.Am.error((null==e?void 0:e.error)||m.Z.errorDefault)}}).catch(e=>{h.Am.error(m.Z.isNullOrEmpty(e)?m.Z.errorDefault:""+e)}):h.Am.error(m.Z.errorDefault))},eZ=e=>{var l;let t=l=>{let t=window.google,n=window.gapi,i=null;if(t){e&&(t.accounts.id.initialize({client_id:e,callback:e_,use_fedcm_for_prompt:!0}),n&&g&&n.load("auth2",function(){n.auth2.init({client_id:e,use_fedcm_for_prompt:!0}).then(function(e){(i=e||null)&&i.attachClickHandler(document.getElementById("googleSignInButton"),{prompt:"select_account"},function(e){e_(e)},function(e){})})}));let l=document.getElementById("google_id_onload_parent");l&&(l.style.display="none");let o=null;l&&document.getElementById("google_id_onload_ww")&&(o=document.getElementById("google_id_onload_ww").offsetWidth,l.style.width=""+o+"px",l.style.display="block"),g||t.accounts.id.renderButton(document.getElementById("google_id_onload"),{theme:"filled_black",size:"medium",width:o,text:U?"signup_with":"signin_with"}),t.accounts.id.prompt()}else null==l||l(!1)},n=50,i=l=>{--n<0||setTimeout(()=>{t(l=>{l&&e||i(200)})},l||30)};(null===(l=window.location.protocol)||void 0===l?void 0:l.toLowerCase())==="http:"&&window.location.host&&-1===window.location.host.toLowerCase().indexOf("abacus.ai")?setTimeout(()=>{},0):i()};(0,p.useEffect)(()=>{let e=e=>{(null==Q?void 0:Q.google)!=null&&eZ()};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[Q]);let eT=e=>{var l;null===(l=window.FB)||void 0===l||l.login(function(e){var l,t;(null==e?void 0:null===(l=e.authResponse)||void 0===l?void 0:l.accessToken)&&eE(null==e?void 0:null===(t=e.authResponse)||void 0===t?void 0:t.accessToken)},{scope:"email,public_profile"})};(0,p.useEffect)(()=>{(null==Q?void 0:Q.google)!=null&&eZ(null==Q?void 0:Q.google)},[Q]);let eO=(0,p.useCallback)(e=>{var l;return e&&(null==x?void 0:null===(l=x.map(e=>null==e?void 0:e.toLowerCase()))||void 0===l?void 0:l.includes(null==e?void 0:e.toLowerCase()))},[x]),eP=(!C||Z)&&(0,n.jsxs)("div",{className:" flex flex-col gap-[23px] ",children:[X&&(0,n.jsx)("div",{className:" flex flex-col gap-[23px] ",children:(0,n.jsxs)("div",{className:" px-[8px] rounded py-[4px] text-[13px] text-black text-center border-2 border-red-500 bg-red-300 font-semibold ",children:["Access to ","'","Abacus.AI","'"," Domain Problem"]})}),!X&&(0,n.jsxs)("div",{className:" flex flex-col gap-[23px] "+(ee?" hidden ":" "),children:[w&&!0===v&&(0,n.jsx)("div",{className:" py-[4px] text-center text-[13px] opacity-80 ",children:"To use Google Single Sign on, open this link in an external browser or go directly to chatllm.abacus.ai"}),eO("apple")&&(0,n.jsx)(c,{iconPadding:5,onClick:e=>{var l,t,n;null===(n=window.AppleID)||void 0===n||null===(t=n.auth)||void 0===t||null===(l=t.signIn)||void 0===l||l.call(t).then(e=>{var l,t;(null==e?void 0:null===(l=e.authorization)||void 0===l?void 0:l.id_token)?eI((null==e?void 0:null===(t=e.authorization)||void 0===t?void 0:t.id_token)||null):h.Am.error(m.Z.errorDefault)}).catch(e=>{h.Am.error(m.Z.errorDefault)})},isChatApp:g,icon:(0,n.jsx)("img",{alt:"",src:"/chatllm/staticllm/apple_logo.webp",className:" w-[18px] "}),name:"Sign ".concat(U||H?"up":"in"," with Apple")}),eO("facebook")&&v&&(0,n.jsx)(c,{iconPadding:5,onClick:eT,isChatApp:g,icon:(0,n.jsx)("img",{alt:"",src:(0,o.B)("/chatllm/fb_logo.webp"),className:" w-[18px] "}),name:"Sign ".concat(U||H?"up":"in"," with Facebook")}),eO("google")&&(0,n.jsxs)("div",{id:"google_id_onload_parent",className:" ",children:[f&&(0,n.jsx)(n.Fragment,{children:g&&(0,n.jsx)(_.Z,{hideOkButton:!0,title:"To use Google Single Sign On, open this link in an external browser or go directly to chatllm.abacus.ai",cancelText:"Close",children:(0,n.jsx)(c,{iconPadding:5,isChatApp:g,icon:(0,n.jsx)("img",{alt:"",src:(0,o.B)("/logo_google.webp"),className:" w-[18px] "}),name:"Sign ".concat(U||H?"up":"in"," with Google")})})}),!f&&(0,n.jsxs)(n.Fragment,{children:[!0!==ep&&!g&&(0,n.jsx)("div",{id:"google_id_onload",className:" h-[32px] w-full "}),!0!==ep&&g&&(0,n.jsx)(c,{iconPadding:5,isChatApp:g,forceIdElem:"googleSignInButton",icon:(0,n.jsx)("img",{alt:"",src:(0,o.B)("/logo_google.webp"),className:" w-[18px] "}),name:"Sign ".concat(U||H?"up":"in"," with Google")}),!0===ep&&(0,n.jsx)(c,{iconPadding:5,isChatApp:g,icon:(0,n.jsx)("img",{alt:"",src:(0,o.B)("/logo_google.webp"),className:" w-[18px] "}),isError:!0,name:"Sign ".concat(H?"up":"in"," with Google - Not Configured")})]})]}),eO("okta")&&!w&&(0,n.jsx)(c,{iconPadding:5,onClick:e=>{G.openOauth("https://dev-kkhyscwx.us.auth0.com/authorize","",(null==Q?void 0:Q.okta)||"M118iw76wVQ0wR6tonBrb8lH94IlU6F2",["openid","profile","email"],["response_type=code"],eC)},isChatApp:g,icon:(0,n.jsx)("img",{alt:"",src:(0,o.B)("/okta_logo.png"),className:" w-[18px] "}),name:ek}),eO("facebook")&&!v&&(0,n.jsx)(c,{iconPadding:5,onClick:eT,isChatApp:g,icon:(0,n.jsx)("img",{alt:"",src:(0,o.B)("/chatllm/fb_logo.webp"),className:" w-[18px] "}),name:"Sign ".concat(U||H?"up":"in"," with Facebook")}),eO("azure")&&(0,n.jsx)(c,{onClick:e=>{if((null==K?void 0:K.authEndpoint)&&(null==K?void 0:K.provider)==="azure"){var l;let e=(null==K?void 0:null===(l=K.scopes)||void 0===l?void 0:l.split(",").map(e=>e.trim()))||[];G.openOauth(null==K?void 0:K.authEndpoint,null==K?void 0:K.redirectUri,null==K?void 0:K.clientId,e,["response_type=code"],eL)}else G.openOauth("https://login.microsoftonline.com/common/oauth2/v2.0/authorize","",(w?null==Q?void 0:Q.azureChatllm:null==Q?void 0:Q.azure)||"b89bbf6f-22a7-4b66-9bcf-6a80edf04dc5",w?["User.Read"]:["User.ReadBasic.All","offline_access","openid","profile"],["response_type=code"],eL)},isChatApp:g,icon:(0,n.jsx)("img",{alt:"",src:(0,o.B)("/chatllm/ms_icon.webp"),className:" w-[16px] "}),name:ey})]}),eO("email")&&!X&&(0,n.jsxs)("div",{className:" mt-[10px] text-[14px] font-light ",children:[(0,n.jsx)("div",{className:" pb-[10px] "+(ee?"":" border-t-white/[0.1] border-t-[1px] ")}),(0,n.jsxs)("div",{className:" relative ",children:[W&&(0,n.jsx)("div",{className:" z-[200] bg-black/[0.7] -m-[15px] rounded absolute top-0 left-0 right-0 bottom-0 flex items-center justify-center ",children:(0,n.jsx)(d.G,{icon:t(39847).QD,transform:{size:18},spin:!0})}),(0,n.jsxs)(y.fC,{className:" w-full ",onSubmit:e=>(null==e||e.preventDefault(),null==e||e.stopPropagation(),U?(0,i.YpH)({method:"_acceptInvite",data:{email:z,password:ea,name:et,userInviteSecret:U,organizationId:F,userInviteId:R}}).then(e=>{(null==e?void 0:e.success)?(h.Am.success("Accepted!"),M?window.location.reload():eA()):h.Am.error((null==e?void 0:e.error)||m.Z.errorDefault)}).catch(e=>{h.Am.error(m.Z.isNullOrEmpty(e)?m.Z.errorDefault:""+e)}):ee?N.Z.askRecaptcha("reset",e=>{(0,i.YpH)({method:"_resetPasswordRequest",data:{email:ei,recaptchaToken:e}}).then(e=>{(null==e?void 0:e.success)?(el(!1),h.Am.success("Email Sent!")):h.Am.error((null==e?void 0:e.error)||m.Z.errorDefault)}).catch(e=>{h.Am.error(m.Z.isNullOrEmpty(e)?m.Z.errorDefault:""+e)})}):N.Z.askRecaptcha(H?"signup":"signin",e=>{q(!0),(0,i.YpH)({method:H?"_createAccount":"_signIn",data:{name:et,email:eS&&z?z:ei,password:ea,recaptchaToken:e,signupToken:eS}}).then(e=>{if(setTimeout(()=>{q(!1)},500),null==e?void 0:e.success)setTimeout(()=>{M?window.location.reload():eA(H?"joinorg/":null)},100);else{let l=null==e?void 0:e.redirectUrl;l?eg(l):h.Am.error((null==e?void 0:e.error)||m.Z.errorDefault)}}).catch(e=>{h.Am.error(m.Z.isNullOrEmpty(e)?m.Z.errorDefault:""+e)})}),!1),children:[(U||H)&&(0,n.jsxs)(y.gN,{className:"grid mb-[4px]",name:"name",children:[(0,n.jsxs)("div",{className:"flex items-baseline justify-between",children:[!g&&(0,n.jsx)(y.__,{className:"text-[15px] font-medium leading-[35px] text-white",children:"Name"}),(0,n.jsx)(y.v0,{className:"text-[13px] text-red-500",match:"valueMissing",children:"Required"})]}),(0,n.jsx)(y.oT,{asChild:!0,children:(0,n.jsx)("input",{value:et,onChange:e=>{en(e.target.value||"")},placeholder:g?" Name":"",className:" !outline-none px-[10px] py-[9px] w-full "+(g?" !rounded-[4px] !border-[1px] !border-[#efeded] !bg-transparent h-[38px] !placeholder-opacity-35 ":" h-[30px] bg-black rounded !border-[1px] !border-white/[0.3] ")+"  ",required:!0})})]}),(0,n.jsxs)(y.gN,{className:" grid mb-[4px] ",name:"email",children:[(0,n.jsxs)("div",{className:"flex items-baseline justify-between"+(g?" mt-[12px] ":" "),children:[!g&&(0,n.jsx)(y.__,{className:"text-[15px] font-medium leading-[35px] text-white ",children:"Email"}),(0,n.jsx)(y.v0,{className:"text-[13px] text-red-500 ",match:"valueMissing",children:"Required"}),(0,n.jsx)(y.v0,{className:"text-[13px] text-red-500",match:"typeMismatch",children:"Invalid email"})]}),(0,n.jsx)(y.oT,{asChild:!0,children:(0,n.jsx)("input",{disabled:!!U||!!z&&!!D,readOnly:!!U||!!z&&!!D,value:U||D&&z?z:ei,onChange:e=>{U||eo(e.target.value||"")},placeholder:g?" Email":"",className:" !outline-none px-[10px] py-[9px] w-full "+(g?" !rounded-[4px] !border-[1px] !border-[#efeded] !bg-transparent h-[38px] !placeholder-opacity-35 ":" h-[30px] bg-black rounded !border-[1px] !border-white/[0.3] ")+" "+(U?" !cursor-not-allowed ":" "),type:"email",required:!0})})]}),!ee&&(0,n.jsxs)(y.gN,{className:"grid mb-[4px]",name:"question",children:[(0,n.jsxs)("div",{className:"flex items-baseline justify-between "+(g?" mt-[12px] ":" "),children:[!g&&(0,n.jsx)(y.__,{className:"text-[15px] font-medium leading-[35px] text-white",children:"Password"}),(0,n.jsx)(y.v0,{className:"text-[13px] text-red-500",match:"valueMissing",children:"Required"}),(0,n.jsx)(y.v0,{className:"text-[13px] text-red-500 ",match:"patternMismatch",children:(0,n.jsx)("div",{className:" mb-[4px] ",children:H?"Password must be at least 8 characters long and include both uppercase and lowercase letters, one special character, and one digit":""})})]}),(0,n.jsx)(y.oT,{asChild:!0,children:H?(0,n.jsx)("input",{value:ea,onChange:e=>{er(e.target.value||"")},placeholder:g?" Password":"",className:" !outline-none px-[10px] py-[9px] w-full "+(g?" !rounded-[4px] !border-[1px] !border-[#efeded] !bg-transparent h-[38px] !placeholder-opacity-35 ":" h-[30px] bg-black rounded !border-[1px] !border-white/[0.3] ")+" ",type:"password",pattern:"(?=.*\\d)(?=.*[a-zA-Z]).{8,}",required:!0}):(0,n.jsx)("input",{value:ea,onChange:e=>{er(e.target.value||"")},placeholder:g?" Password":"",className:" !outline-none px-[10px] py-[9px] w-full "+(g?" !rounded-[4px] !border-[1px] !border-[#efeded] !bg-transparent h-[38px] !placeholder-opacity-35 ":" h-[30px] bg-black rounded !border-[1px] !border-white/[0.3] ")+" ",type:"password",required:!0})})]}),(0,n.jsx)(y.k4,{asChild:!0,children:(0,n.jsx)("button",{className:" w-full mt-[10px] "+(g?" bg-[#8c54ff] py-[8px] rounded-full ":" rounded py-[4px] bg-blue-700 "),children:U?"Sign Up":ee?"Send email to reset password":"Sign ".concat(H?"Up":"In")})})]})]}),!Z&&!U&&!H&&(0,n.jsx)("div",{onClick:e=>{el(e=>!e)},className:" text-center cursor-pointer hover:opacity-100 "+(g&&!ee?" !rounded-full !border-[1px] !border-[#efeded] !bg-transparent h-[38px] !placeholder-opacity-35 mt-[30px] flex items-center justify-center ":" text-[12px] mt-[14px] opacity-70 ")+" ",children:ee?"Go Back":"Forgot Password?"})]})]});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:" text-[18px] sm:text-[24px] pb-[5px] px-[3px] text-center break-normal "+(g?" ":" border-b-[1px] border-b-white/[0.3] "),children:O}),es&&(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(k.Z,{onClick:()=>{(0,i.YpH)({method:"_signOut",ignoreNeedLogin:!0}).then(e=>{(0,i.vOe)(!0),window.location.href="/chatllm/"})},children:"Sign Out"})}),(0,n.jsx)(A.Z,{ref:eh,backBlackClassname:" bg-black/[0.87] ",disableBackBlack:!0,title:"2-Factor Login",okText:"Submit",cancelText:"Cancel",disableClickOutside:!0,onPreClick:e=>{eu("")},content:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:" py-[14px] ",children:"Enter your 2-Factor Code"}),(0,n.jsx)("div",{className:" flex items-center justify-center ",children:(0,n.jsx)(k.Z,{onClick:()=>{(0,i.YpH)({method:"_start2faSMS"}).then(e=>{h.Am.success("2-Factor SMS sent")}).catch(e=>{h.Am.error(m.Z.isNullOrEmpty(e)?m.Z.errorDefault:""+e)})},children:"Send a token by SMS"})}),(0,n.jsx)("input",{style:{marginTop:"8px"},placeholder:"token",value:ed,className:"outline-none bg-darkcolor/[0.15] p-[4px] w-full rounded ",onChange:e=>{eu(e.target.value)}})]}),onClickOk:e=>new Promise(e=>{setTimeout(()=>{(0,i.YpH)({method:"_validate2faToken",data:{token:ed}}).then(l=>{if((null==l?void 0:l.success)===!0&&(null==l?void 0:l.result)===!0)setTimeout(()=>{M?window.location.reload():eA()},200);else{let t=null==l?void 0:l.redirectUrl;t?eg(t):h.Am.error("Invalid Code"),e(!1)}}).catch(l=>{h.Am.error(m.Z.isNullOrEmpty(l)?m.Z.errorDefault:""+l),e(!1)})},3e3)})}),(0,n.jsx)("div",{id:"google_id_onload_ww",className:" h-[1px] w-full "}),(0,n.jsx)("div",{className:" py-[23px] ",children:eP})]})}var E=t(25103),I=t(48614),L=t(30278);function Z(e){var l,t,i;let{isChatTeams:o,isReferralOnly:a}=e,[r,s]=(0,E.N)(),[c,d]=(0,p.useState)(0),[u,h]=(0,S.PB)("CodeLLM"),[x,g]=(0,S.PB)("AppLLM"),v=(0,p.useMemo)(()=>"1"===x||"2"===x?[{imageSrc:"https://abacus.ai/static/imgs/howworks2/app_llm/0.gif",title:"Prompt, run, edit, and deploy full-stack websites",subtitle:""}]:"1"===u||"2"===u?[{imageSrc:"https://abacus.ai/static/imgs/howworks2/code_llm/0.gif",title:"10x Your Productivity By Using Our AI Powered Code Editor",subtitle:""}]:a?[{imageSrc:"/chatllm/staticllm/referrals.svg",title:"Refer Friends and Make Money",subtitle:""}]:o?[{imageSrc:"/chatllm/staticllm/screenSignInA3.webp",title:"Chat With Docs",subtitle:""},{imageSrc:"/chatllm/staticllm/screenSignInA4.webp",title:"Execute Code, Analyze Data, and Draw Plots",subtitle:""}]:[{imageSrc:"/chatllm/staticllm/screenSignInA1.webp",title:"DataLLM",subtitle:"Get Insights on your data with natural language"},{imageSrc:"/chatllm/staticllm/screenSignInA2.webp",title:"ChatLLM",subtitle:"Chat With The AI Brain For Your Organization"}],[o,x,u,a]);return(0,p.useEffect)(()=>{if((null==v?void 0:v.length)===0)return;let e=setInterval(()=>{d(e=>(null!=e||(e=0),++e>=(null==v?void 0:v.length)&&(e=0),e))},9e3);return()=>{clearInterval(e)}},[s]),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{display:"none"},children:null==v?void 0:v.map((e,l)=>(0,n.jsx)("img",{alt:"",src:null==e?void 0:e.imageSrc},"cacheImg"+l))}),(0,n.jsx)("div",{className:" flex flex-col items-center justify-center text-center ",children:(0,n.jsx)(I.M,{initial:!1,mode:"wait",children:(0,n.jsxs)("div",{className:" min-h-[70vh] flex justify-center flex-col items-center ",children:[(0,n.jsxs)(L.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:" mb-[40px] flex flex-col items-center justify-center mx-[20px] ",children:[(0,n.jsx)("div",{className:" text-[#8c54ff] text-[30px] xl:text-[40px] font-[500] ",children:null==v?void 0:null===(l=v[c])||void 0===l?void 0:l.title}),(0,n.jsx)("div",{className:" text-[#d1e4f5] text-[20px] xl:text-[24px] font-[300] ",children:null==v?void 0:null===(t=v[c])||void 0===t?void 0:t.subtitle})]},"txt"+c),(0,n.jsx)(L.E.img,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},alt:"",src:(null==v?void 0:null===(i=v[c])||void 0===i?void 0:i.imageSrc)||m.Z.transparentPixelBase64,className:" max-h-[80vh] object-contain "+(o?" rounded-xl ":"")+(a?"":" lg:w-2/3 w-2/5 ")},"img"+c)]})})}),(null==v?void 0:v.length)>1&&(0,n.jsx)("div",{className:" flex items-center justify-center gap-[20px] mt-[28px] ",children:null==v?void 0:v.map((e,l)=>(0,n.jsx)("div",{onClick:e=>{d(l),r()},className:" !cursor-pointer h-[7px] w-[60px] rounded-full bg-[#00f8c5] transition-all duration-300 "+(l===c?" ":" opacity-20 ")},"butbot-"+l))})]})}function T(e){let{isChatApp:l,onChangeToSignup:t}=e,[o,a]=(0,p.useState)(!1),[r,s]=(0,S.PB)("isSignUp");return((0,p.useEffect)(()=>{a(!1);try{(0,i.koz)({isGet:!0}).then(e=>{a(!1)}).catch(e=>{a(!0)})}catch(e){a(!0)}},[]),o)?null:r&&l?(0,n.jsxs)("span",{children:["Already have an account? ",(0,n.jsx)("span",{className:" cursor-pointer text-[#38bfa1] ",onClick:e=>{s(null)},children:"Sign in"})]}):r?null:(0,n.jsxs)("span",{children:["Donâ€™t have an account? ",(0,n.jsx)("span",{className:" cursor-pointer text-[#38bfa1] ",onClick:e=>{l?s("1"):h.Am.warning("Contact your Admin!")},children:"Sign up"})]})}function O(e){var l,t,r,c,d,u,m;let{searchParams:h,isChatApp:x=!1,userInfoInit:g=null,isFromOtherPage:v=!1,darkValue:f=null,isReset:w=!1}=e,[b,j]=(0,S.PB)("token"),[k,y]=(0,S.PB)("CodeLLMcode"),[N,A]=(0,S.PB)("CodeLLM"),_="1"===N,[E,I]=(0,S.PB)("AppLLM"),[L,O]=(0,S.PB)("linkTeams"),P="1"===L,[M,B]=(0,S.PB)("linkSlack"),D="1"===M,[U,z]=(0,p.useState)(!1),[F,R]=(0,p.useState)(null),[H,Y]=(0,p.useState)(null);(0,p.useEffect)(()=>{document.title=x?"SignIn Abacus.AI Teams":"SignIn"},[x]);let[W,q]=(0,p.useState)(null!=g?g:null);(0,p.useEffect)(()=>{v||(0,i.FDQ)({ignoreNeedLogin:!0}).then(e=>{q(e)}).catch(e=>{q(null)})},[]),(0,p.useEffect)(()=>{v&&q(g)},[v,g]);let G=(null==W?void 0:W.requires2fa)===!0,Q=window.location.host;(0,p.useEffect)(()=>{if(W&&(null==W?void 0:W.success)&&(null==W?void 0:W.needLogin)!==!0&&(null==W?void 0:W.success)===!0&&(null==W?void 0:W.needLogin)!==!0&&!G&&(D||P)){let e="";D?e="linkSlack=1":P&&(e="linkTeams=1"),(0,i.vOe)(!0),window.location.href="/chatllm/commConnector/?".concat(e);return}},[W]);let[J,K]=(0,p.useState)(null),[V,X]=(0,p.useState)(null);(0,p.useEffect)(()=>{(0,i._j4)({__simulate:!0}).then(e=>{K(e)}).catch(e=>{K(null)})},[]),(0,p.useEffect)(()=>{(0,i.H6L)({}).then(e=>{X(e)}).catch(e=>{X(null)})},[]);let $=(null==J?void 0:null===(l=J.result)||void 0===l?void 0:l.logo)||null,ee=(null==J?void 0:null===(t=J.result)||void 0===t?void 0:t.theme)||null,el=null!==(u=null==ee?void 0:ee[i.jOT])&&void 0!==u?u:"Join Abacus.AI Chat Today",et=o.Z.calcHostOnly(Q),en=o.Z.isHostTeams(et),ei=navigator.userAgent||"";/iPhone|iPod|Opera Mini|Android.*Mobile|NetFront|PSP|BlackBerry|Windows Phone/i.test(ei);let eo=/iPhone|iPod|iPad/i.test(ei),ea=/Android/i.test(ei),er=null==V?null:[...null!==(m=null==V?void 0:V.result)&&void 0!==m?m:[]];(null==J?void 0:null===(r=J.result)||void 0===r?void 0:r.passwordsDisabled)!==!0&&(null==er||er.push("EMAIL"));let es=!1,ec=!0,ed=!0,eu=!1,ep=null;if(en&&(null==er||er.push("FACEBOOK"),es=!0,ei)){let e=s()({messenger:/\bFB[\w_]+\/(Messenger|MESSENGER)/,facebook:/\bFB[\w_]+\//,twitter:/\bTwitter/i,linkedin:/\[LinkedInApp\]/i,wechat:/\bMicroMessenger\//i,instagram:/\bInstagram/i},e=>e.test(ei))||null;ep=null!=e,eo&&(es=!0,ep&&(e&&["facebook","messenger","instagram"].includes(null==e?void 0:e.toLowerCase())&&(ec=!1,ed=!1),e&&["linkedin"].includes(null==e?void 0:e.toLowerCase())&&(ed=!1,eu=!0))),ea&&(es=!1)}es?null==er||er.push("APPLE"):er=null==er?void 0:er.filter(e=>"APPLE"!==e),ec||(er=null==er?void 0:er.filter(e=>"GOOGLE"!==e)),er=null==er?void 0:er.filter(e=>"FACEBOOK"!==e),ed||(er=null==er?void 0:er.filter(e=>"AZURE"!==e));let em=_;return(em&&!k&&(null==W?em=!1:null!=W&&(null==W?void 0:W.needLogin)===!0&&(em=!1)),(0,p.useMemo)(()=>(null==H?void 0:H.os)==="darwin"?" for macOS":(null==H?void 0:H.os)==="linux"?" for Linux":" for Windows",[H]),v&&!W)?null:W&&null!=er?(0,n.jsx)("main",{className:"absolute top-0 left-0 right-0 bottom-0 bg-gradient-to-tr  to-[88%] via-[73%] from-[12%] to-[#000b16] via-[#001a37] from-[#00060c]",children:(0,n.jsx)("div",{style:x?{backgroundImage:"url('/chatllm/staticllm/backsigninteams2.webp')",backgroundSize:"cover"}:{},className:"absolute top-0 left-0 right-0 bottom-0 text-darkcolor ",children:(0,n.jsxs)("div",{className:" sm:flex absolute top-0 left-0 right-0 bottom-0 text-darkcoloro sm:overflow-y-auto ",children:[(0,n.jsx)("div",{className:" flex-1 hidden items-center justify-center lg:flex ",children:(0,n.jsx)(Z,{isChatTeams:en,isReferralOnly:"chatLLMReferral"===b})}),(0,n.jsx)("div",{className:" sm:block absolute sm:relative top-0 left-0 right-0 bottom-0 flex-1 lg:flex-initial sm:flex-shrink-0 sm:px-[80px] flex items-center justify-center flex-col sm:flex sm:flex-col items-center "+(x?" bg-[rgba(255,255,255,0.08)] m-[15px] rounded-lg ":" bg-darkcolor/[0.4] "),children:(0,n.jsxs)("div",{className:" relative overflow-y-auto text-white sm:rounded-xl sm:w-[390px] px-[25px] py-[25px] max-w-[440px] "+(x?" ":" bg-[#0b131e] "),children:[!x&&(0,n.jsx)("div",{className:" flex items-center justify-start mb-[20px] ",children:(0,n.jsx)("img",{referrerPolicy:"no-referrer",alt:"",src:null!=$?$:(0,o.B)("logo_text80.png"),className:" h-[24px] sm:h-[50px] object-contain mx-auto "})}),x&&(0,n.jsx)("img",{referrerPolicy:"no-referrer",alt:"",src:(0,o.B)("logo_text80.png"),className:" mb-[14px] sm:mb-[20px] h-[22px] sm:h-[30px] object-contain relative sm:mt-0 sm:top-[10px] block mx-auto translate-x-[18px] sm:translate-x-[22px] "}),(0,n.jsx)(C,{linkSlack:D,linkTeams:P,requires2fa:G,inBrowserWebView:ep,isAppLLM:"1"===E||"2"===N,isCodeLLM:"1"===N||"2"===N,forceOpenCodeLLM:_,isReset:w,showGoogleSignInModal:eu&&en,loginOptions:er,isChatApp:x,isChatTeams:en,titleLabelOrg:x?null:el,themeObj:ee,isLoggedIn:(null==W?void 0:W.success)===!0&&!!(null==W?void 0:null===(c=W.result)||void 0===c?void 0:c.email),loggedInEmail:null==W?void 0:null===(d=W.result)||void 0===d?void 0:d.email}),!(null==W?void 0:W.success)&&((null==er?void 0:er.find(e=>(null==e?void 0:e.toLowerCase())==="email"))||x)&&(0,n.jsx)("div",{className:" mt-[13px] text-[14px] text-[#8798ad] text-center ",children:(0,n.jsx)(T,{isChatApp:x})}),(0,n.jsxs)("div",{className:" text-[12px] text-[#8798ad] sm:text-left text-center mt-[22px] ",children:["By signing up, you agree to the ",(0,n.jsx)(a.default,{className:" text-[#38bfa1] ",target:"_blank",href:"https://abacus.ai/terms",children:"Terms of Service"})," and ",(0,n.jsx)(a.default,{className:" text-[#38bfa1] ",target:"_blank",href:"https://abacus.ai/privacy",children:"Privacy Policy"})]})]})})]})})}):(0,n.jsx)("div",{className:"absolute top-0 left-0 right-0 bottom-0 bg-gradient-to-tr  to-[88%] via-[73%] from-[12%] to-[#000b16] via-[#001a37] from-[#00060c]"})}},89884:function(e,l){l.Z={askRecaptcha(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"homepage",l=arguments.length>1?arguments[1]:void 0;window.grecaptcha?window.grecaptcha.ready(function(){window.grecaptcha.execute("6LecNb4UAAAAAD9bzZveB8dUdkUrJJZYQO1woMxw",{action:e}).then(function(e){l&&l(e)})}):l&&l(null)},isSafari(){var e;return/^((?!chrome|android).)*safari/i.test(null!==(e=navigator.userAgent)&&void 0!==e?e:"")},urlToBlob:e=>new Promise(l=>{fetch(e).then(e=>null==e?void 0:e.blob()).then(e=>{l(e)}).catch(e=>{l(null)})}),blobToBase64:e=>new Promise((l,t)=>{let n=new FileReader;n.onerror=()=>l(null),n.onloadend=()=>l(n.result),n.readAsDataURL(e)}),formatCurrency(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:l,currencyDisplay:"narrowSymbol",minimumFractionDigits:2}).format(e)}}}}]);